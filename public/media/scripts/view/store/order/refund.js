require(["zepto","base","mylayer"],function(e,n,o){var t={init:function(){this.initEvent()},initEvent:function(){e(document).on("click",".js-order-refund-handel",function(){var n=e(this).attr("data-id"),t=e(this).attr("data-order-id"),r=e("#refund-handel-template").html();o.init({content:r,close:!1,class_name:"layer-refund-handel",position:"center"}),e(".refund-handel-form").find(".order_id").val(t),e(".refund-handel-form").find(".order_refund_id").val(n)}),e(document).on("change",".handel_type",function(){var n=e(this).val();"1"==n?e(".refuse_tip").show():e(".refuse_tip").hide()}),e(document).on("click",".js-submit-refund-handel",function(){var n=e(".refund-handel-form"),t=n.serializeObject();return""==t.handel_type?(o.showTip("请选择操作",3e3,"error"),!1):"1"==t.handel_type&&""==t.handel_reason?(o.showTip("请输入解决方法",3e3,"error"),!1):void o.showConfirm("确认提交?",function(){e.ajaxPost("/api/store/order/refundhandel",t,function(n){"Success"==n.code?o.showMessage(n.message,function(){window.location.reload()}):e.showRequestError(n)},function(n){e.showRequestError(n)})})})},scrollLoadCallback:function(e,n){}};"function"==typeof t.init&&e(function(){t.init()})});