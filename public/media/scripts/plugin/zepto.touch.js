!function(e){function t(e,t,o,n){return Math.abs(e-t)>=Math.abs(o-n)?0<e-t?"Left":"Right":0<o-n?"Up":"Down"}function o(){p=null,f.last&&(f.el.trigger("longTap"),f={})}function n(){r&&clearTimeout(r),a&&clearTimeout(a),l&&clearTimeout(l),p&&clearTimeout(p),r=a=l=p=null,f={}}function i(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function u(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}function c(c){var h,y,v,M,b=0,x=0;T&&(e(document).off(w.down,d).off(w.up,g).off(w.move,m).off(w.cancel,n),e(window).off("scroll",n),n(),T=!1),(w=c&&"down"in c?c:"ontouchstart"in document?{down:"touchstart",up:"touchend",move:"touchmove",cancel:"touchcancel"}:"onpointerdown"in document?{down:"pointerdown",up:"pointerup",move:"pointermove",cancel:"pointercancel"}:"onmspointerdown"in document&&{down:"MSPointerDown",up:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel"})&&("MSGesture"in window&&(s=new MSGesture,s.target=document.body,e(document).bind("MSGestureEnd",function(e){(e=1<e.velocityX?"Right":-1>e.velocityX?"Left":1<e.velocityY?"Down":-1>e.velocityY?"Up":null)&&(f.el.trigger("swipe"),f.el.trigger("swipe"+e))})),d=function(t){(M=u(t,"down"))&&!i(t)||(v=M?t:t.touches[0],t.touches&&1===t.touches.length&&f.x2&&(f.x2=void 0,f.y2=void 0),h=Date.now(),y=h-(f.last||h),f.el=e("tagName"in v.target?v.target:v.target.parentNode),r&&clearTimeout(r),f.x1=v.pageX,f.y1=v.pageY,0<y&&250>=y&&(f.isDoubleTap=!0),f.last=h,p=setTimeout(o,750),s&&M&&s.addPointer(t.pointerId))},m=function(e){(M=u(e,"move"))&&!i(e)||(v=M?e:e.touches[0],p&&clearTimeout(p),p=null,f.x2=v.pageX,f.y2=v.pageY,b+=Math.abs(f.x1-f.x2),x+=Math.abs(f.y1-f.y2))},g=function(o){(M=u(o,"up"))&&!i(o)||(p&&clearTimeout(p),p=null,f.x2&&30<Math.abs(f.x1-f.x2)||f.y2&&30<Math.abs(f.y1-f.y2)?l=setTimeout(function(){f.el&&(f.el.trigger("swipe"),f.el.trigger("swipe"+t(f.x1,f.x2,f.y1,f.y2))),f={}},0):"last"in f&&(30>b&&30>x?a=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=n,f.el&&f.el.trigger(t),f.isDoubleTap?(f.el&&f.el.trigger("doubleTap"),f={}):r=setTimeout(function(){r=null,f.el&&f.el.trigger("singleTap"),f={}},250)},0):f={}),b=x=0)},e(document).on(w.up,g).on(w.down,d).on(w.move,m),e(document).on(w.cancel,n),e(window).on("scroll",n),T=!0)}var r,a,l,p,s,d,g,m,w,f={},T=!1;"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}}),e.touch={setup:c},e(document).ready(c)}(Zepto);