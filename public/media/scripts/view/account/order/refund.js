require(["zepto","base","mylayer","loginReg","validate"],function(e,r,n,o,i){var t={};t.init=function(){var r=this;new FormValidator("refund-form",r.saveValid,function(o,i){var t=e(i.target);if(t.find(".errormsg").html(""),o.length>0)return r.showValidatorError(o,t),!1;var a=(t.attr("data-action"),t.serializeObject());n.showLoad(!0);return e.ajaxPost("/api/order/refund/apply",a,function(r){"Success"==r.code?(n.showTip(r.message,3e3,"success"),window.location.href="/account/order/refundlist"):(n.hideLoad(),e.showRequestError(r))},function(r){n.hideLoad(),e.showRequestError(r)}),!1});e(".refund-form").on("submit",function(){return!1}),e(".js-submit-refund").on("click",function(){})},t.saveValid=[{name:"reason",rules:"required",message:{required:"请输入拒绝原因"}}],"function"==typeof t.init&&e(function(){t.init()})});