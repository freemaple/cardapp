require(["zepto","base","mylayer"],function(t,o,a){var r={};r.init=function(){var o=this;t(".js-load-cate-product").on("click",function(){var r=t(this);if(r.hasClass("current"))return!1;var n=r.attr("data-id");r.addClass("current").siblings("li").removeClass("current"),t(".js-cate-product-list").html("");var c=t(".js-product-scroll-container");c.attr("data-action","/api/category/goods/"+n).attr("data-page","1"),c.attr("data-load-more","1"),a.showLoad(),o.loadCateProduct(n,{page:"1"},function(o){a.hideLoad();var r=o.data.data;if(r&&r.length>0){var n=productListComponent.getProductInfo(r);t(".js-cate-product-list").html(n)}else{var n=t("#goods-list-empty-template").html();t(".js-cate-product-list").html(n)}})});var r=t(".js-product-scroll-container");scrollComponent.init(),scrollComponent.setScrollItem(r),scrollComponent.setCallback(function(t,o){productListComponent.scrollLoadCallback(t,o)})},r.loadCateProduct=function(o,a,r){t.ajaxGet("/api/category/goods/"+o,a,function(t){"function"==typeof r&&r(t)})},"function"==typeof r.init&&t(function(){r.init()})});