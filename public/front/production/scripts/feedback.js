require(["jquery","validate","mylayer"],function(e,a,i){var d={init:function(){var a=this;e(".feedback_form").validate(this.feedbackValid),e(".feedback_form").on("click",function(i){var d=e(this),n=i||window.event,t=e(n.target||n.srcElement);t.hasClass("submit_feedback")&&a.doFeedback(d,t)})},feedbackValid:{rules:{fullname:{required:!0,maxlength:50},email:{required:!0,email:!0},content:{required:!0}}},doFeedback:function(a,i){var d=a.find(".feedback_message");d.hide();if(a.valid()){var n=a.serializeObject();e.postForm(i,"/api/feedback",n,function(e){"0x0000"==e.code||e.message})}}};e(function(){d.init()})});